<div class="container-fluid mdl-tree-container" ng-class="vm.sidebar.open ? '' : vm.sidebar.className">

    <div class="mdl-tree-sidebar-toggle mdl-color--blue-grey-800" ng-click="vm.sidebar.open = !vm.sidebar.open">
        <i class="material-icons mdl-tree-sidebar-toggle--closer">navigate_before</i>
        <i class="material-icons mdl-tree-sidebar-toggle--opener">navigate_next</i>
    </div>

    <div class="col-sm-2 md-tree-sidebar">

        <ul class="mdl-tree-ul--root">
            <li>
                <div class="mdl-tree-title">
                    <i class="material-icons">folder</i> <label>/</label>
                </div>
                <ul class="mdl-tree-ul--children">
                    <li ng-repeat="module in vm.modules">
                        <div class="mdl-tree-title">
                            <i class="material-icons">layers</i>
                            <label ng-click="module.open = !module.open"> {{ module.name }} <span class="mdl-badge" data-badge="{{ module.entities.length }}"> </span></label>
                        </div>
                        <ul class="mdl-tree-ul--children" ng-class="module.open ? '' : 'mdl-tree-ul--children-close'"
                            style="{{ 'height' + (module.entities.length * 26) + 'px;' }}">
                            <li ng-repeat="entity in module.entities">
                                <div class="mdl-tree-title">
                                    <i class="material-icons">palette</i>
                                    <a href="javascript:void(0);" ng-click="vm.project.service.open(vm.tabs, vm.project.type, entity)">{{ entity.name }}</a>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>

    </div>

    <div class="col-sm-10 md-tree-content">


        <div id="tabs-model" class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect" ng-show="vm.tabs.length">

            <div class="mdl-tabs__tab-bar">

                <a ng-repeat="_tab in vm.tabs track by $index" class="mdl-tabs__tab" ng-class="_tab.selected ? 'is-active' : ''" ng-click="vm.project.service.select(vm.tabs, _tab)">
                    {{ _tab.entity.name }} <span ng-click="vm.project.service.close(vm.tabs, _tab)" class="mdl-tabs__tab---close">&times;</span>
                </a>
            </div>

            <div ng-repeat="_tab in vm.tabs track by $index" class="mdl-tabs__panel" ng-class="_tab.selected ? 'is-active' : ''">

                <div ng-include="_tab.entity.url"></div>
            </div>
        </div>

    </div>


</div>